{
  "gitSyncId": "690a1259f50d0b1fbf77939e_566ee499-e727-4fe5-96af-0c46a1c4cf9d",
  "unpublishedPage": {
    "layouts": [
      {
        "dsl": {
          "backgroundColor": "none",
          "bottomRow": 800,
          "canExtend": true,
          "children": [
            {
              "type": "CONTAINER_WIDGET",
              "widgetId": "container1",
              "widgetName": "FormContainer",
              "topRow": 2,
              "bottomRow": 78,
              "leftColumn": 2,
              "rightColumn": 62,
              "backgroundColor": "#FFFFFF",
              "borderRadius": "0.375rem",
              "boxShadow": "0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)",
              "children": [
                {
                  "type": "TEXT_WIDGET",
                  "widgetId": "title1",
                  "widgetName": "FormTitle",
                  "topRow": 1,
                  "bottomRow": 5,
                  "leftColumn": 1,
                  "rightColumn": 40,
                  "text": "Registro de Pedidos",
                  "fontSize": "1.5rem",
                  "fontStyle": "BOLD",
                  "textAlign": "LEFT",
                  "textColor": "#231F20"
                },
                {
                  "type": "DIVIDER_WIDGET",
                  "widgetId": "divider1",
                  "widgetName": "Divider1",
                  "topRow": 5,
                  "bottomRow": 6,
                  "leftColumn": 0,
                  "rightColumn": 64,
                  "orientation": "horizontal",
                  "strokeStyle": "solid",
                  "dividerColor": "#E0E0E0"
                },
                {
                  "type": "TEXT_WIDGET",
                  "widgetId": "sectionContact",
                  "widgetName": "ContactSectionTitle",
                  "topRow": 7,
                  "bottomRow": 10,
                  "leftColumn": 1,
                  "rightColumn": 30,
                  "text": "Información del Cliente",
                  "fontSize": "1.125rem",
                  "fontStyle": "BOLD",
                  "textAlign": "LEFT",
                  "textColor": "#231F20"
                },
                {
                  "type": "SELECT_WIDGET",
                  "widgetId": "selectContact",
                  "widgetName": "ContactSelect",
                  "topRow": 11,
                  "bottomRow": 18,
                  "leftColumn": 1,
                  "rightColumn": 32,
                  "label": "Seleccionar Cliente",
                  "labelTextSize": "0.875rem",
                  "placeholderText": "Seleccione un cliente...",
                  "isRequired": true,
                  "isFilterable": true,
                  "serverSideFiltering": false,
                  "options": [
                    { "label": "Juan Pérez - juan@example.com", "value": "1" },
                    { "label": "María García - maria@example.com", "value": "2" },
                    { "label": "Carlos López - carlos@example.com", "value": "3" }
                  ],
                  "defaultOptionValue": ""
                },
                {
                  "type": "BUTTON_WIDGET",
                  "widgetId": "btnNewContact",
                  "widgetName": "NewContactButton",
                  "topRow": 11,
                  "bottomRow": 18,
                  "leftColumn": 33,
                  "rightColumn": 48,
                  "text": "+ Nuevo Cliente",
                  "buttonStyle": "SECONDARY",
                  "onClick": "{{showModal('NewContactModal')}}",
                  "isVisible": true
                },
                {
                  "type": "TEXT_WIDGET",
                  "widgetId": "sectionOrder",
                  "widgetName": "OrderSectionTitle",
                  "topRow": 20,
                  "bottomRow": 23,
                  "leftColumn": 1,
                  "rightColumn": 30,
                  "text": "Detalles del Pedido",
                  "fontSize": "1.125rem",
                  "fontStyle": "BOLD",
                  "textAlign": "LEFT",
                  "textColor": "#231F20"
                },
                {
                  "type": "INPUT_WIDGET_V2",
                  "widgetId": "inputOrderNumber",
                  "widgetName": "OrderNumberInput",
                  "topRow": 24,
                  "bottomRow": 31,
                  "leftColumn": 1,
                  "rightColumn": 24,
                  "label": "Número de Pedido",
                  "labelTextSize": "0.875rem",
                  "inputType": "TEXT",
                  "placeholderText": "Ej: PED-001",
                  "isRequired": true,
                  "defaultText": "{{`PED-${Date.now()}`}}"
                },
                {
                  "type": "DATE_PICKER_WIDGET2",
                  "widgetId": "dateOrder",
                  "widgetName": "OrderDatePicker",
                  "topRow": 24,
                  "bottomRow": 31,
                  "leftColumn": 25,
                  "rightColumn": 48,
                  "label": "Fecha del Pedido",
                  "labelTextSize": "0.875rem",
                  "dateFormat": "DD/MM/YYYY",
                  "isRequired": true,
                  "defaultDate": "{{moment().format('DD/MM/YYYY')}}"
                },
                {
                  "type": "SELECT_WIDGET",
                  "widgetId": "selectStatus",
                  "widgetName": "OrderStatusSelect",
                  "topRow": 32,
                  "bottomRow": 39,
                  "leftColumn": 1,
                  "rightColumn": 24,
                  "label": "Estado del Pedido",
                  "labelTextSize": "0.875rem",
                  "placeholderText": "Seleccione estado...",
                  "isRequired": true,
                  "options": [
                    { "label": "Pendiente", "value": "pending" },
                    { "label": "En Proceso", "value": "processing" },
                    { "label": "Completado", "value": "completed" },
                    { "label": "Cancelado", "value": "cancelled" }
                  ],
                  "defaultOptionValue": "pending"
                },
                {
                  "type": "INPUT_WIDGET_V2",
                  "widgetId": "inputNotes",
                  "widgetName": "OrderNotesInput",
                  "topRow": 32,
                  "bottomRow": 39,
                  "leftColumn": 25,
                  "rightColumn": 48,
                  "label": "Notas",
                  "labelTextSize": "0.875rem",
                  "inputType": "TEXT",
                  "placeholderText": "Observaciones adicionales..."
                },
                {
                  "type": "TEXT_WIDGET",
                  "widgetId": "sectionProducts",
                  "widgetName": "ProductsSectionTitle",
                  "topRow": 41,
                  "bottomRow": 44,
                  "leftColumn": 1,
                  "rightColumn": 30,
                  "text": "Productos",
                  "fontSize": "1.125rem",
                  "fontStyle": "BOLD",
                  "textAlign": "LEFT",
                  "textColor": "#231F20"
                },
                {
                  "type": "BUTTON_WIDGET",
                  "widgetId": "btnAddProduct",
                  "widgetName": "AddProductButton",
                  "topRow": 41,
                  "bottomRow": 44,
                  "leftColumn": 32,
                  "rightColumn": 48,
                  "text": "+ Agregar Producto",
                  "buttonStyle": "PRIMARY",
                  "onClick": "{{storeValue('productsList', [...(appsmith.store.productsList || []), {producto: '', cantidad: 1, precioUnitario: 0, subtotal: 0}])}}",
                  "isVisible": true
                },
                {
                  "type": "TABLE_WIDGET_V2",
                  "widgetId": "tableProducts",
                  "widgetName": "ProductsTable",
                  "topRow": 45,
                  "bottomRow": 65,
                  "leftColumn": 1,
                  "rightColumn": 48,
                  "primaryColumns": {
                    "producto": {
                      "index": 0,
                      "width": 200,
                      "id": "producto",
                      "columnType": "select",
                      "label": "Producto",
                      "isVisible": true,
                      "isEditable": true,
                      "selectOptions": [
                        { "label": "Laptop Dell XPS 13", "value": "laptop-dell" },
                        { "label": "Mouse Logitech MX Master", "value": "mouse-logitech" },
                        { "label": "Teclado Mecánico", "value": "keyboard-mech" },
                        { "label": "Monitor LG 27\"", "value": "monitor-lg" },
                        { "label": "Webcam HD", "value": "webcam" }
                      ]
                    },
                    "cantidad": {
                      "index": 1,
                      "width": 100,
                      "id": "cantidad",
                      "columnType": "number",
                      "label": "Cantidad",
                      "isVisible": true,
                      "isEditable": true
                    },
                    "precioUnitario": {
                      "index": 2,
                      "width": 120,
                      "id": "precioUnitario",
                      "columnType": "number",
                      "label": "Precio Unit.",
                      "isVisible": true,
                      "isEditable": true
                    },
                    "subtotal": {
                      "index": 3,
                      "width": 120,
                      "id": "subtotal",
                      "columnType": "number",
                      "label": "Subtotal",
                      "isVisible": true,
                      "isEditable": false,
                      "computedValue": "{{ProductsTable.processedTableData.map((row) => row.cantidad * row.precioUnitario)}}"
                    },
                    "acciones": {
                      "index": 4,
                      "width": 100,
                      "id": "acciones",
                      "columnType": "button",
                      "label": "Acciones",
                      "isVisible": true,
                      "buttonLabel": "Eliminar",
                      "buttonColor": "#DD4B39",
                      "onClick": "{{storeValue('productsList', appsmith.store.productsList.filter((item, index) => index !== ProductsTable.selectedRowIndex))}}"
                    }
                  },
                  "tableData": "{{appsmith.store.productsList || []}}",
                  "defaultSelectedRowIndex": 0,
                  "isVisibleSearch": false,
                  "isVisibleFilters": false,
                  "isVisibleDownload": false,
                  "isVisiblePagination": false
                },
                {
                  "type": "CONTAINER_WIDGET",
                  "widgetId": "containerTotal",
                  "widgetName": "TotalContainer",
                  "topRow": 66,
                  "bottomRow": 70,
                  "leftColumn": 28,
                  "rightColumn": 48,
                  "backgroundColor": "#F8F9FA",
                  "borderRadius": "0.375rem",
                  "children": [
                    {
                      "type": "TEXT_WIDGET",
                      "widgetId": "textTotalLabel",
                      "widgetName": "TotalLabel",
                      "topRow": 1,
                      "bottomRow": 3,
                      "leftColumn": 1,
                      "rightColumn": 10,
                      "text": "Total:",
                      "fontSize": "1.25rem",
                      "fontStyle": "BOLD",
                      "textAlign": "RIGHT"
                    },
                    {
                      "type": "TEXT_WIDGET",
                      "widgetId": "textTotalValue",
                      "widgetName": "TotalValue",
                      "topRow": 1,
                      "bottomRow": 3,
                      "leftColumn": 10,
                      "rightColumn": 19,
                      "text": "{{(appsmith.store.productsList || []).reduce((sum, item) => sum + (item.cantidad * item.precioUnitario), 0).toFixed(2)}} €",
                      "fontSize": "1.25rem",
                      "fontStyle": "BOLD",
                      "textAlign": "LEFT",
                      "textColor": "#03B365"
                    }
                  ]
                },
                {
                  "type": "BUTTON_WIDGET",
                  "widgetId": "btnCancel",
                  "widgetName": "CancelButton",
                  "topRow": 72,
                  "bottomRow": 76,
                  "leftColumn": 28,
                  "rightColumn": 37,
                  "text": "Cancelar",
                  "buttonStyle": "SECONDARY",
                  "onClick": "{{resetWidget('FormContainer', true); storeValue('productsList', [])}}",
                  "isVisible": true
                },
                {
                  "type": "BUTTON_WIDGET",
                  "widgetId": "btnSave",
                  "widgetName": "SaveOrderButton",
                  "topRow": 72,
                  "bottomRow": 76,
                  "leftColumn": 38,
                  "rightColumn": 48,
                  "text": "Guardar Pedido",
                  "buttonStyle": "PRIMARY",
                  "onClick": "{{showAlert('Pedido guardado exitosamente: ' + OrderNumberInput.text, 'success'); storeValue('productsList', [])}}",
                  "isVisible": true,
                  "isDisabled": "{{!ContactSelect.selectedOptionValue || !OrderNumberInput.text || !OrderDatePicker.selectedDate || (appsmith.store.productsList || []).length === 0}}"
                }
              ]
            },
            {
              "type": "MODAL_WIDGET",
              "widgetId": "modalNewContact",
              "widgetName": "NewContactModal",
              "topRow": 10,
              "bottomRow": 50,
              "leftColumn": 16,
              "rightColumn": 48,
              "isVisible": false,
              "children": [
                {
                  "type": "TEXT_WIDGET",
                  "widgetId": "modalTitle",
                  "widgetName": "ModalTitle",
                  "topRow": 1,
                  "bottomRow": 4,
                  "leftColumn": 1,
                  "rightColumn": 30,
                  "text": "Nuevo Cliente",
                  "fontSize": "1.25rem",
                  "fontStyle": "BOLD"
                },
                {
                  "type": "INPUT_WIDGET_V2",
                  "widgetId": "inputContactName",
                  "widgetName": "ContactNameInput",
                  "topRow": 5,
                  "bottomRow": 12,
                  "leftColumn": 1,
                  "rightColumn": 30,
                  "label": "Nombre Completo",
                  "inputType": "TEXT",
                  "placeholderText": "Ej: Juan Pérez",
                  "isRequired": true
                },
                {
                  "type": "INPUT_WIDGET_V2",
                  "widgetId": "inputContactEmail",
                  "widgetName": "ContactEmailInput",
                  "topRow": 13,
                  "bottomRow": 20,
                  "leftColumn": 1,
                  "rightColumn": 30,
                  "label": "Email",
                  "inputType": "EMAIL",
                  "placeholderText": "ejemplo@email.com",
                  "isRequired": true
                },
                {
                  "type": "INPUT_WIDGET_V2",
                  "widgetId": "inputContactPhone",
                  "widgetName": "ContactPhoneInput",
                  "topRow": 21,
                  "bottomRow": 28,
                  "leftColumn": 1,
                  "rightColumn": 30,
                  "label": "Teléfono",
                  "inputType": "PHONE_NUMBER",
                  "placeholderText": "+34 600 000 000"
                },
                {
                  "type": "INPUT_WIDGET_V2",
                  "widgetId": "inputContactAddress",
                  "widgetName": "ContactAddressInput",
                  "topRow": 29,
                  "bottomRow": 36,
                  "leftColumn": 1,
                  "rightColumn": 30,
                  "label": "Dirección",
                  "inputType": "TEXT",
                  "placeholderText": "Calle, número, ciudad..."
                },
                {
                  "type": "BUTTON_WIDGET",
                  "widgetId": "btnModalCancel",
                  "widgetName": "ModalCancelButton",
                  "topRow": 38,
                  "bottomRow": 42,
                  "leftColumn": 1,
                  "rightColumn": 14,
                  "text": "Cancelar",
                  "buttonStyle": "SECONDARY",
                  "onClick": "{{closeModal('NewContactModal')}}"
                },
                {
                  "type": "BUTTON_WIDGET",
                  "widgetId": "btnModalSave",
                  "widgetName": "ModalSaveButton",
                  "topRow": 38,
                  "bottomRow": 42,
                  "leftColumn": 16,
                  "rightColumn": 30,
                  "text": "Guardar Cliente",
                  "buttonStyle": "PRIMARY",
                  "onClick": "{{showAlert('Cliente guardado: ' + ContactNameInput.text, 'success'); closeModal('NewContactModal')}}",
                  "isDisabled": "{{!ContactNameInput.text || !ContactEmailInput.text}}"
                }
              ]
            }
          ],
          "containerStyle": "none",
          "detachFromLayout": true,
          "dynamicBindingPathList": [],
          "dynamicTriggerPathList": [],
          "leftColumn": 0,
          "minHeight": 1292,
          "parentColumnSpace": 1,
          "parentRowSpace": 1,
          "rightColumn": 4896,
          "snapColumns": 64,
          "snapRows": 124,
          "topRow": 0,
          "type": "CANVAS_WIDGET",
          "version": 94,
          "widgetId": "0",
          "widgetName": "MainContainer"
        }
      }
    ],
    "name": "Page1",
    "slug": "page1"
  }
}
